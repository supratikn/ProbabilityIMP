<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>PrImp</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PrImp</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab10"></a><h1 class="section">PrImp: A Simple Probabilistic Imperative Language</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="SfLib.html#"><span class="id" type="library">SfLib</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="Distributions.html#"><span class="id" type="library">Distributions</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#"><span class="id" type="library">Coq.Logic.ProofIrrelevance</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h2 class="section">Arithmetic and Boolean Expressions</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">nat_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="aexp"><span class="id" type="inductive">aexp</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="ANum"><span class="id" type="constructor">ANum</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a><br/>
&nbsp;&nbsp;| <a name="AId"><span class="id" type="constructor">AId</span></a> : <a class="idref" href="SfLib.html#aid"><span class="id" type="inductive">aid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a>             <br/>
&nbsp;&nbsp;| <a name="APlus"><span class="id" type="constructor">APlus</span></a> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a><br/>
&nbsp;&nbsp;| <a name="AMinus"><span class="id" type="constructor">AMinus</span></a> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a><br/>
&nbsp;&nbsp;| <a name="AMult"><span class="id" type="constructor">AMult</span></a> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="aeval"><span class="id" type="definition">aeval</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a>) (<span class="id" type="var">st</span>:<a class="idref" href="SfLib.html#state"><span class="id" type="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#ANum"><span class="id" type="constructor">ANum</span></a> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#AId"><span class="id" type="constructor">AId</span></a> <span class="id" type="var">x</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>) <span class="id" type="var">x</span>                                    <br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#APlus"><span class="id" type="constructor">APlus</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#AMinus"><span class="id" type="constructor">AMinus</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#AMult"><span class="id" type="constructor">AMult</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="bexp"><span class="id" type="inductive">bexp</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="BTrue"><span class="id" type="constructor">BTrue</span></a> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BFalse"><span class="id" type="constructor">BFalse</span></a> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BId"><span class="id" type="constructor">BId</span></a> : <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BEq"><span class="id" type="constructor">BEq</span></a> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BLe"><span class="id" type="constructor">BLe</span></a> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BNot"><span class="id" type="constructor">BNot</span></a> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a><br/>
&nbsp;&nbsp;| <a name="BAnd"><span class="id" type="constructor">BAnd</span></a> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Useful Abbreviations 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="BLt"><span class="id" type="definition">BLt</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>: <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> := <a class="idref" href="PrImp.html#BLe"><span class="id" type="constructor">BLe</span></a> (<a class="idref" href="PrImp.html#APlus"><span class="id" type="constructor">APlus</span></a> <a class="idref" href="PrImp.html#a1"><span class="id" type="variable">a1</span></a> (<a class="idref" href="PrImp.html#ANum"><span class="id" type="constructor">ANum</span></a> 1)) <a class="idref" href="PrImp.html#a2"><span class="id" type="variable">a2</span></a>.<br/>
<span class="id" type="keyword">Definition</span> <a name="BGt"><span class="id" type="definition">BGt</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>: <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> := <a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> (<a class="idref" href="PrImp.html#BLe"><span class="id" type="constructor">BLe</span></a> <a class="idref" href="PrImp.html#a1"><span class="id" type="variable">a1</span></a> <a class="idref" href="PrImp.html#a2"><span class="id" type="variable">a2</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="BGe"><span class="id" type="definition">BGe</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>: <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> := <a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> (<a class="idref" href="PrImp.html#BLt"><span class="id" type="definition">BLt</span></a> <a class="idref" href="PrImp.html#a1"><span class="id" type="variable">a1</span></a> <a class="idref" href="PrImp.html#a2"><span class="id" type="variable">a2</span></a>).<br/>
<span class="id" type="keyword">Definition</span> <a name="BOr"><span class="id" type="definition">BOr</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>: <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> := <a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> (<a class="idref" href="PrImp.html#BAnd"><span class="id" type="constructor">BAnd</span></a> (<a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a>) (<a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a>)).<br/>
<span class="id" type="keyword">Definition</span> <a name="BIff"><span class="id" type="definition">BIff</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> := <a class="idref" href="PrImp.html#BOr"><span class="id" type="definition">BOr</span></a> (<a class="idref" href="PrImp.html#BAnd"><span class="id" type="constructor">BAnd</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a>) (<a class="idref" href="PrImp.html#BAnd"><span class="id" type="constructor">BAnd</span></a> (<a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a>) (<a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="beval"><span class="id" type="definition">beval</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a>) (<span class="id" type="var">st</span>:<a class="idref" href="SfLib.html#state"><span class="id" type="definition">state</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BTrue"><span class="id" type="constructor">BTrue</span></a>       =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BFalse"><span class="id" type="constructor">BFalse</span></a>      =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <span class="id" type="var">y</span>       =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>) <span class="id" type="var">y</span><br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BEq"><span class="id" type="constructor">BEq</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>   =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> (<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>) (<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BLe"><span class="id" type="constructor">BLe</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">a2</span>   =&gt; <a class="idref" href="SfLib.html#ble_nat"><span class="id" type="definition">ble_nat</span></a> (<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>) (<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <span class="id" type="var">a2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <span class="id" type="var">b1</span>     =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" type="definition">negb</span></a> (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="PrImp.html#BAnd"><span class="id" type="constructor">BAnd</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b1</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>) (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b2</span> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab12"></a><h2 class="section">State Distributions</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">R_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="dstate"><span class="id" type="definition">dstate</span></a> : <span class="id" type="keyword">Type</span> := <a class="idref" href="Distributions.html#dist"><span class="id" type="inductive">dist</span></a> <a class="idref" href="SfLib.html#state"><span class="id" type="definition">state</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="empty_dstate"><span class="id" type="definition">empty_dstate</span></a> : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> := <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="SfLib.html#empty_state"><span class="id" type="definition">empty_state</span></a>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'Prb'_x_'in'_x"><span class="id" type="notation">"</span></a>'Prb' b 'in' dst"  := (<a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">Pr</span></a> <a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b</span><a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">dst</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 40).<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h3 class="section">Translating the bexp connectives</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bor_eq"><span class="id" type="lemma">bor_eq</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> <span class="id" type="var">dst</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BOr"><span class="id" type="definition">BOr</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">Pr</span></a> <a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Distributions.html#::x_'||'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">st</span> =&gt; <a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="Distributions.html#::x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="Distributions.html#::x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#::x_'||'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">fun</span> <span class="id" type="var">st</span> =&gt; <a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="Distributions.html#::x_'||'_x"><span class="id" type="notation">)</span></a><a class="idref" href="Distributions.html#::'Pr'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">t</span>), (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b2</span> <span class="id" type="var">t</span>); <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="biff_imp"><span class="id" type="lemma">biff_imp</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BIff"><span class="id" type="definition">BIff</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#b1"><span class="id" type="variable">b1</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#b2"><span class="id" type="variable">b2</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">t</span>), (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <span class="id" type="var">b2</span> <span class="id" type="var">t</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_1"><span class="id" type="lemma">pr_split_1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">H1</span> &amp; <span class="id" type="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h3 class="section">Special Cases of ProbTheory Specific to State Distributions</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prb_true"><span class="id" type="lemma">prb_true</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span>, <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#BTrue"><span class="id" type="constructor">BTrue</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_tautology"><span class="id" type="lemma">pr_tautology</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prb_false"><span class="id" type="lemma">prb_false</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span>, <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#BFalse"><span class="id" type="constructor">BFalse</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_contradiction"><span class="id" type="lemma">pr_contradiction</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prb_complement_1"><span class="id" type="lemma">prb_complement_1</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">b</span>, <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Distributions.html#pr_complement_1"><span class="id" type="lemma">pr_complement_1</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prb_complement_0"><span class="id" type="lemma">prb_complement_0</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">b</span>, <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BNot"><span class="id" type="constructor">BNot</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="Distributions.html#pr_complement_0"><span class="id" type="lemma">pr_complement_0</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h2 class="section">Updating Distributions</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="dist_update"><span class="id" type="definition">dist_update</span></a> (<span class="id" type="var">dst</span> : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a>) (<span class="id" type="var">x</span>: <a class="idref" href="SfLib.html#aid"><span class="id" type="inductive">aid</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a>) : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <span class="id" type="var">st</span> =&gt; <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="var">st</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> (<a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> <span class="id" type="var">dst1</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>) (<a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> <span class="id" type="var">dst2</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="dist_update_b"><span class="id" type="definition">dist_update_b</span></a> (<span class="id" type="var">dst</span> : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a>) (<span class="id" type="var">y</span>: <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a>) : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <span class="id" type="var">st</span> =&gt; <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> (<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="var">st</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> (<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <span class="id" type="var">dst1</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <span class="id" type="var">dst2</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="prob_update"><span class="id" type="definition">prob_update</span></a> (<span class="id" type="var">dst</span> : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a>) (<span class="id" type="var">x</span>:<a class="idref" href="SfLib.html#aid"><span class="id" type="inductive">aid</span></a>) (<span class="id" type="var">p</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" type="axiom">R</span></a>) (<span class="id" type="var">v</span>:0<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a>1) : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <span class="id" type="var">st</span> =&gt; <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> 1)) (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> 0))<br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p0</span> <span class="id" type="var">v0</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p0</span> <span class="id" type="var">v0</span> (<a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> <span class="id" type="var">dst1</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> <span class="id" type="var">dst2</span> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="prob_update_b"><span class="id" type="definition">prob_update_b</span></a> (<span class="id" type="var">dst</span> : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a>) (<span class="id" type="var">y</span>:<a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a>) (<span class="id" type="var">p</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" type="axiom">R</span></a>) (<span class="id" type="var">v</span>:0<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a>1) : <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <span class="id" type="var">st</span> =&gt; <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <span class="id" type="var">st</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p0</span> <span class="id" type="var">v0</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p0</span> <span class="id" type="var">v0</span> (<a class="idref" href="PrImp.html#prob_update_b"><span class="id" type="definition">prob_update_b</span></a> <span class="id" type="var">dst1</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="PrImp.html#prob_update_b"><span class="id" type="definition">prob_update_b</span></a> <span class="id" type="var">dst2</span> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="dist_update_true"><span class="id" type="lemma">dist_update_true</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#BTrue"><span class="id" type="constructor">BTrue</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#beq_bid_refl"><span class="id" type="lemma">beq_bid_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="dist_update_false"><span class="id" type="lemma">dist_update_false</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#BFalse"><span class="id" type="constructor">BFalse</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#beq_bid_refl"><span class="id" type="lemma">beq_bid_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h3 class="section">Non-interference Rules of Updates</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Theorem</span> <a name="update_non_interference"><span class="id" type="lemma">update_non_interference</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">a</span> <span class="id" type="var">y</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHa1</span>, <span class="id" type="var">IHa2</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHa1</span>, <span class="id" type="var">IHa2</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHa1</span>, <span class="id" type="var">IHa2</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="dist_update_non_interference"><span class="id" type="lemma">dist_update_non_interference</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#BTrue"><span class="id" type="constructor">BTrue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation"><span style="font-family: arial;">&or;</span></span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#BFalse"><span class="id" type="constructor">BFalse</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> (<a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>) <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> (<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="PrImp.html#update_non_interference"><span class="id" type="lemma">update_non_interference</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#update_interpermute"><span class="id" type="lemma">update_interpermute</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="PrImp.html#update_non_interference"><span class="id" type="lemma">update_non_interference</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#update_interpermute"><span class="id" type="lemma">update_interpermute</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="prob_update_non_interference"><span class="id" type="lemma">prob_update_non_interference</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#BTrue"><span class="id" type="constructor">BTrue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation"><span style="font-family: arial;">&or;</span></span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#BFalse"><span class="id" type="constructor">BFalse</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> (<a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a>  <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> (<a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#update_interpermute"><span class="id" type="lemma">update_interpermute</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="SfLib.html#update_interpermute"><span class="id" type="lemma">update_interpermute</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHdst1</span>, <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab17"></a><h2 class="section">Commands</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="com"><span class="id" type="inductive">com</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="Skip"><span class="id" type="constructor">Skip</span></a> : <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="Assign"><span class="id" type="constructor">Assign</span></a> : <a class="idref" href="SfLib.html#aid"><span class="id" type="inductive">aid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#aexp"><span class="id" type="inductive">aexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="BAssign"><span class="id" type="constructor">BAssign</span></a> : <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#bexp"><span class="id" type="inductive">bexp</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="Seq"><span class="id" type="constructor">Seq</span></a> : <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="If"><span class="id" type="constructor">If</span></a> : <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="While"><span class="id" type="constructor">While</span></a> : <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a>  <br/>
&nbsp;&nbsp;| <a name="Toss"><span class="id" type="constructor">Toss</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">p</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" type="axiom">R</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a> 1 <span style="font-family: arial;">&rarr;</span> <a class="idref" href="SfLib.html#aid"><span class="id" type="inductive">aid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a><br/>
&nbsp;&nbsp;| <a name="BToss"><span class="id" type="constructor">BToss</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">p</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" type="axiom">R</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x_'<'_x"><span class="id" type="notation">&lt;</span></a> 1 <span style="font-family: arial;">&rarr;</span> <a class="idref" href="SfLib.html#bid"><span class="id" type="inductive">bid</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a>.<br/>

<br/>
</div>

<div class="doc">
Notations 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'::='_x"><span class="id" type="notation">"</span></a>x '::=' a" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#Assign"><span class="id" type="constructor">Assign</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_':=='_x"><span class="id" type="notation">"</span></a>y ':==' b" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#BAssign"><span class="id" type="constructor">BAssign</span></a> <span class="id" type="var">y</span> <span class="id" type="var">b</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_';'_x"><span class="id" type="notation">"</span></a>c1 ; c2" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#Seq"><span class="id" type="constructor">Seq</span></a> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">"</span></a>'WHILE' x 'DO' c 'END'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#While"><span class="id" type="constructor">While</span></a> <span class="id" type="var">x</span> <span class="id" type="var">c</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">"</span></a>'IFB' y 'THEN' c1 'ELSE' c2 'FI'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#If"><span class="id" type="constructor">If</span></a> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'$=('_x_','_x_')'"><span class="id" type="notation">"</span></a>x '$=(' p ',' v ')'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#Toss"><span class="id" type="constructor">Toss</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">x</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'$=['_x_','_x_']'"><span class="id" type="notation">"</span></a>y '$=[' p ',' v ']'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#BToss"><span class="id" type="constructor">BToss</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">y</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>

<br/>
<span class="id" type="keyword">Reserved Notation</span> "mc '/' dst '||' dst'" (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 40, <span class="id" type="var">dst</span> <span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 39).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="ceval"><span class="id" type="inductive">ceval</span></a> : <a class="idref" href="PrImp.html#com"><span class="id" type="inductive">com</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> <span style="font-family: arial;">&rarr;</span> <a class="idref" href="PrImp.html#dstate"><span class="id" type="definition">dstate</span></a> <span style="font-family: arial;">&rarr;</span> <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="E_Skip"><span class="id" type="constructor">E_Skip</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#Skip"><span class="id" type="constructor">Skip</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a name="E_Assign"><span class="id" type="constructor">E_Assign</span></a>  : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#aeval"><span class="id" type="definition">aeval</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#n"><span class="id" type="variable">n</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#::x_'::='_x"><span class="id" type="notation">::=</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#n"><span class="id" type="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a name="E_BAssign"><span class="id" type="constructor">E_BAssign</span></a>  : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">b0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#beval"><span class="id" type="definition">beval</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#b0"><span class="id" type="variable">b0</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::x_':=='_x"><span class="id" type="notation">:==</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b0"><span class="id" type="variable">b0</span></a>)<br/>
&nbsp;&nbsp;| <a name="E_Seq"><span class="id" type="constructor">E_Seq</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">dst'</span> <span class="id" type="var">dst''</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a>  <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_';'_x"><span class="id" type="notation">;</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a><br/>
&nbsp;&nbsp;| <a name="E_IfTrue"><span class="id" type="constructor">E_IfTrue</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">dst'</span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a><br/>
&nbsp;&nbsp;| <a name="E_IfFalse"><span class="id" type="constructor">E_IfFalse</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">dst'</span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a><br/>
&nbsp;&nbsp;| <a name="E_WhileEnd"><span class="id" type="constructor">E_WhileEnd</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">y</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a name="E_WhileLoop"><span class="id" type="constructor">E_WhileLoop</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">dst'</span> <span class="id" type="var">dst''</span> <span class="id" type="var">y</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a><br/>
&nbsp;&nbsp;| <a name="E_Toss"><span class="id" type="constructor">E_Toss</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">$=(</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> 1)) (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> 0))<br/>
&nbsp;&nbsp;| <a name="E_BToss"><span class="id" type="constructor">E_BToss</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">st</span> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">$=[</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) (<a class="idref" href="Distributions.html#Unit"><span class="id" type="constructor">Unit</span></a> (<a class="idref" href="SfLib.html#update_b"><span class="id" type="definition">update_b</span></a> <a class="idref" href="PrImp.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>))<br/>
&nbsp;&nbsp;| <a name="E_Lift"><span class="id" type="constructor">E_Lift</span></a>  : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst1'</span> <span class="id" type="var">dst2</span> <span class="id" type="var">dst2'</span> <span class="id" type="var">c</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" type="keyword">where</span> <a name="::x_'/'_x_'||'_x"><span class="id" type="notation">"</span></a>c '/' dst '||' dst'" := (<a class="idref" href="PrImp.html#ceval"><span class="id" type="inductive">ceval</span></a> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>).<br/>

<br/>
</div>

<div class="doc">
Lemma 3.2: Step Determinism 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> <span class="id" type="var">step1</span> <span class="id" type="var">step2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">step1</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1_1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1_2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHstep1_1</span> <span class="id" type="var">dst'0</span> <span class="id" type="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">v</span> <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">v</span> <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">v</span> <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1_1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHstep1_2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Commands take Combinations only to Combinations 
    This follow directly from our definitions, but is useful in place of doing inversion. 
<div class="paragraph"> </div>

 Lemma 3.1: Decomposition 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="step_split"><span class="id" type="lemma">step_split</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">c</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation"><span style="font-family: arial;">&exist;</span></span></a> <span class="id" type="var">dst1'</span> <span class="id" type="var">dst2'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic"><span style="font-family: arial;">&exist;</span></span> <span class="id" type="var">dst1'</span>, <span class="id" type="var">dst2'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">v</span> <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">reflexivity</span> | <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>].<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h2 class="section">Applying Commands Over Distributions</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="skip_lift"><span class="id" type="lemma">skip_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span>, <a class="idref" href="PrImp.html#Skip"><span class="id" type="constructor">Skip</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Skip"><span class="id" type="constructor">E_Skip</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="skip_equiv"><span class="id" type="lemma">skip_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>, <a class="idref" href="PrImp.html#Skip"><span class="id" type="constructor">Skip</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#skip_lift"><span class="id" type="lemma">skip_lift</span></a> <span class="id" type="var">dst</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#skip_lift"><span class="id" type="lemma">skip_lift</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="seq_lift"><span class="id" type="lemma">seq_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span> <span class="id" type="var">dst''</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_';'_x"><span class="id" type="notation">;</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">st</span> | ].<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">dst'</span> <span class="id" type="var">dst''</span> <span class="id" type="var">step1</span> <span class="id" type="var">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Seq"><span class="id" type="constructor">E_Seq</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst'</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">dst'</span> <span class="id" type="var">dst''</span> <span class="id" type="var">step1</span> <span class="id" type="var">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>). <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>). <span class="id" type="tactic">clear</span> <span class="id" type="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst1'</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst2'</span>); <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="seq_equiv"><span class="id" type="lemma">seq_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_';'_x"><span class="id" type="notation">;</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation"><span style="font-family: arial;">&exist;</span></span></a> <span class="id" type="var">dst'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;2: <span class="id" type="tactic">intros</span> (<span class="id" type="var">dst'</span> &amp; <span class="id" type="var">step1</span> &amp; <span class="id" type="var">step2</span>); <span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#seq_lift"><span class="id" type="lemma">seq_lift</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst'</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst''</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">st</span> | ].<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">dst''</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic"><span style="font-family: arial;">&exist;</span></span> <span class="id" type="var">dst'</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">dst'</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="tactic">by</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHdst1</span> <span class="id" type="var">dst1'</span> <span class="id" type="var">H4</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHdst1</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">dst1m</span> &amp; <span class="id" type="var">step11</span> &amp; <span class="id" type="var">step12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHdst2</span> <span class="id" type="var">dst2'</span> <span class="id" type="var">H5</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHdst2</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">dst2m</span> &amp; <span class="id" type="var">step21</span> &amp; <span class="id" type="var">step22</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic"><span style="font-family: arial;">&exist;</span></span> (<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">a</span> <span class="id" type="var">dst1m</span> <span class="id" type="var">dst2m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="assign_lift"><span class="id" type="lemma">assign_lift</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">dst</span>, <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="PrImp.html#::x_'::='_x"><span class="id" type="notation">::=</span></a><a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Assign"><span class="id" type="constructor">E_Assign</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="assign_equiv"><span class="id" type="lemma">assign_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="PrImp.html#::x_'::='_x"><span class="id" type="notation">::=</span></a><a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#dist_update"><span class="id" type="definition">dist_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#a"><span class="id" type="variable">a</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#assign_lift"><span class="id" type="lemma">assign_lift</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span> <span class="id" type="var">dst</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst'</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step'</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#assign_lift"><span class="id" type="lemma">assign_lift</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bassign_lift"><span class="id" type="lemma">bassign_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">dst</span>, <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::x_':=='_x"><span class="id" type="notation">:==</span></a><a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_BAssign"><span class="id" type="constructor">E_BAssign</span></a>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bassign_equiv"><span class="id" type="lemma">bassign_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::x_':=='_x"><span class="id" type="notation">:==</span></a><a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#dist_update_b"><span class="id" type="definition">dist_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#b"><span class="id" type="variable">b</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#bassign_lift"><span class="id" type="lemma">bassign_lift</span></a> <span class="id" type="var">y</span> <span class="id" type="var">b</span> <span class="id" type="var">dst</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst'</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step'</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#bassign_lift"><span class="id" type="lemma">bassign_lift</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="toss_lift"><span class="id" type="lemma">toss_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>,  <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">$=(</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Toss"><span class="id" type="constructor">E_Toss</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="toss_equiv"><span class="id" type="lemma">toss_equiv</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">$=(</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=('_x_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#prob_update"><span class="id" type="definition">prob_update</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#toss_lift"><span class="id" type="lemma">toss_lift</span></a> <span class="id" type="var">x</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst'</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step'</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#toss_lift"><span class="id" type="lemma">toss_lift</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="btoss_lift"><span class="id" type="lemma">btoss_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>,  <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">$=[</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">]</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#prob_update_b"><span class="id" type="definition">prob_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_BToss"><span class="id" type="constructor">E_BToss</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="btoss_equiv"><span class="id" type="lemma">btoss_equiv</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>, <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">$=[</span></a><a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">,</span></a><a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="PrImp.html#::x_'$=['_x_','_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#prob_update_b"><span class="id" type="definition">prob_update_b</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#btoss_lift"><span class="id" type="lemma">btoss_lift</span></a> <span class="id" type="var">y</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst'</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step'</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#btoss_lift"><span class="id" type="lemma">btoss_lift</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="if_true_lift"><span class="id" type="lemma">if_true_lift</span></a>: <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span> <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_IfTrue"><span class="id" type="constructor">E_IfTrue</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">t</span> <span class="id" type="var">y</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_1"><span class="id" type="lemma">pr_split_1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="if_true_equiv"><span class="id" type="lemma">if_true_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#if_true_lift"><span class="id" type="lemma">if_true_lift</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_1"><span class="id" type="lemma">pr_split_1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="if_false_lift"><span class="id" type="lemma">if_false_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <span style="font-family: arial;">&rarr;</span> <br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_IfFalse"><span class="id" type="constructor">E_IfFalse</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">t</span> <span class="id" type="var">y</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_0"><span class="id" type="lemma">pr_split_0</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="if_false_equiv"><span class="id" type="lemma">if_false_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#if_false_lift"><span class="id" type="lemma">if_false_lift</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_0"><span class="id" type="lemma">pr_split_0</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="if_equiv"><span class="id" type="lemma">if_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> <span class="id" type="var">dst1</span> <span class="id" type="var">dst2</span> <span class="id" type="var">dst1'</span> <span class="id" type="var">dst2'</span> <span class="id" type="var">p</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <a class="idref" href="PrImp.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <a class="idref" href="PrImp.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="PrImp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1"><span class="id" type="variable">dst1</span></a> <a class="idref" href="PrImp.html#dst2"><span class="id" type="variable">dst2</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <a class="idref" href="PrImp.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="PrImp.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="PrImp.html#dst1'"><span class="id" type="variable">dst1'</span></a> <a class="idref" href="PrImp.html#dst2'"><span class="id" type="variable">dst2'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#if_true_lift"><span class="id" type="lemma">if_true_lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#if_false_lift"><span class="id" type="lemma">if_false_lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="PrImp.html#if_true_equiv"><span class="id" type="lemma">if_true_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="PrImp.html#if_false_equiv"><span class="id" type="lemma">if_false_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="while_end_lift"><span class="id" type="lemma">while_end_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_WhileEnd"><span class="id" type="constructor">E_WhileEnd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">t</span> <span class="id" type="var">y</span>); [<span class="id" type="var">lra</span> | <span class="id" type="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_0"><span class="id" type="lemma">pr_split_0</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H</span> <span class="id" type="var">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="while_end_equiv"><span class="id" type="lemma">while_end_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 0 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="PrImp.html#while_end_lift"><span class="id" type="lemma">while_end_lift</span></a> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">step'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#step_deterministic"><span class="id" type="lemma">step_deterministic</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst1</span>:=<span class="id" type="var">dst</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#while_end_lift"><span class="id" type="lemma">while_end_lift</span></a>; <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="while_loop_lift"><span class="id" type="lemma">while_loop_lift</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation"><span style="font-family: arial;">&exist;</span></span></a> <span class="id" type="var">dst'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span> <span class="id" type="var">Pr1</span> <span class="id" type="var">step</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="var">remember</span> (<a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <span class="id" type="var">y</span> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <span class="id" type="var">c</span> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a>) <span class="id" type="keyword">as</span> <span class="id" type="var">com</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqcom</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Pr1</span>; <span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic"><span style="font-family: arial;">&exist;</span></span> <span class="id" type="var">dst'</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_1"><span class="id" type="lemma">pr_split_1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Pr1</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHstep1</span> <span class="id" type="var">Pr1</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHstep2</span> <span class="id" type="var">Pr2</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">IHstep1</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">dst1''</span> &amp; <span class="id" type="var">step1'</span> &amp; <span class="id" type="var">while1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">IHstep2</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">dst2''</span> &amp; <span class="id" type="var">step2'</span> &amp; <span class="id" type="var">while2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic"><span style="font-family: arial;">&exist;</span></span> (<a class="idref" href="Distributions.html#Combine"><span class="id" type="constructor">Combine</span></a> <span class="id" type="var">p</span> <span class="id" type="var">v</span> <span class="id" type="var">dst1''</span> <span class="id" type="var">dst2''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="while_loop_equiv"><span class="id" type="lemma">while_loop_equiv</span></a> : <span class="id" type="keyword"><span style="font-family: arial;">&forall;</span></span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">Prb</span></a> <a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#BId"><span class="id" type="constructor">BId</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="PrImp.html#::'Prb'_x_'in'_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">in</span> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> 1 <span style="font-family: arial;">&rarr;</span><br/>
&nbsp;&nbsp;(<a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation"><span style="font-family: arial;">&harr;</span></span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation"><span style="font-family: arial;">&exist;</span></span></a> <span class="id" type="var">dst'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst"><span class="id" type="variable">dst</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation"><span style="font-family: arial;">&and;</span></span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">(</span></a><a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <a class="idref" href="PrImp.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <a class="idref" href="PrImp.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="PrImp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="PrImp.html#dst'"><span class="id" type="variable">dst'</span></a> <a class="idref" href="PrImp.html#::x_'/'_x_'||'_x"><span class="id" type="notation"><span style="font-family: arial;">&dArr;</span></span></a> <a class="idref" href="PrImp.html#dst''"><span class="id" type="variable">dst''</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">y</span> <span class="id" type="var">c</span> <span class="id" type="var">dst</span> <span class="id" type="var">dst''</span> <span class="id" type="var">Pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#while_loop_lift"><span class="id" type="lemma">while_loop_lift</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">intros</span> (<span class="id" type="var">dst'</span> &amp; <span class="id" type="var">step</span> &amp; <span class="id" type="var">step'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst''</span>. <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">dst'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">dst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_WhileLoop"><span class="id" type="constructor">E_WhileLoop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst'</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <span class="id" type="var">t</span> <span class="id" type="var">y</span>); <span class="id" type="tactic">trivial</span>; <span class="id" type="var">lra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="Distributions.html#pr_split_1"><span class="id" type="lemma">pr_split_1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Pr1</span> <span class="id" type="keyword">as</span> (<span class="id" type="var">Pr1</span> &amp; <span class="id" type="var">Pr2</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">step'</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">v1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">a</span> <span class="id" type="keyword">in</span> * <span class="id" type="tactic">by</span> <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="PrImp.html#E_Lift"><span class="id" type="constructor">E_Lift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst1</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst1'</span>); <span class="id" type="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHdst2</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">dst'</span>:=<span class="id" type="var">dst2'</span>); <span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>